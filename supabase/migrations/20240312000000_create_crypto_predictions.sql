create table if not exists public.crypto_predictions (
    id bigint generated by default as identity primary key,
    symbol text not null,
    predictions jsonb not null,
    timestamp timestamptz not null default now(),
    created_at timestamptz not null default now()
);

-- Enable RLS
alter table public.crypto_predictions enable row level security;

-- Create policy to allow all operations for public (Edge Function uses anon key)
create policy "Allow insert for all users" on public.crypto_predictions
    for insert
    to public
    with check (true); 